---
title: parseInt é‡ä¸Š map
index: false
icon: flower
isOriginal: true
tag:
  - parseInt, map
category:
  - JavaScript
---

::: tip ğŸŒ ç®€å•ä»‹ç»
ğŸ’¡ `parseInt` æ˜¯è§£æä¸€ä¸ªå­—ç¬¦ä¸²å¹¶è¿”å›æŒ‡å®šåŸºæ•°çš„åè¿›åˆ¶æ•´æ•°ï¼Œ`radix` æ˜¯`2-36`ä¹‹é—´çš„æ•´æ•°ï¼Œè¡¨ç¤ºè¢«è§£æå­—ç¬¦ä¸²çš„åŸºæ•°ã€‚å¦‚æœ `radix` è¶…è¿‡` 2-36` çš„èŒƒå›´åˆ™è¿”å› `NaN`;
:::

## parseInt çš„è§£è¯»

### å‚æ•°

> `parseInt`çš„å‚æ•°æœ‰ä¿©ä¸ªï¼Œ ç¬¬ä¸€ä¸ªä¸ºè§£æçš„å­—ç¬¦ä¸²ï¼Œ ç¬¬äºŒä¸ªä¸ºæŒ‡å®šçš„åŸºæ•°ï¼›è¯­æ³•ï¼š `parseInt(string, radix)`

- [x] string: è§£æçš„å­—ç¬¦ä¸²ï¼Œå¦‚æœä¸æ˜¯å­—ç¬¦çš„æƒ…å†µä¸‹ï¼Œåˆ™å°†ä»–è½¬ä¸ºå­—ç¬¦ (`toString()` æŠ½è±¡æ–¹æ³•æ“ä½œ); å¦‚å­—ç¬¦å‰é¢æ˜¯å¦ç©ºæ ¼é»˜è®¤å°†ç©ºæ ¼å»é™¤ï¼›
- [x] radix(å¯é€‰å‚æ•°): `2-36`èŒƒå›´å†…ï¼Œ æ ‡è¯†å­—ç¬¦ä¸²çš„åŸºæ•°ï¼›

### è¿”å›å€¼

- [x] è§£æå‡ºçš„ä¸€ä¸ªæ•´æ•°ï¼Œ æ•°å­—ï¼›
- [x] è¿”å› NaNï¼›å¦‚æœè¿”å›`NaN`åˆ™æ»¡è¶³ä¿©ç‚¹ï¼š 1. `radix`å°äº 2 æˆ– å¤§äº 36ï¼› 2. ç¬¬ä¸€ä¸ªéç©ºæ ¼å­—ç¬¦ä¸èƒ½è½¬æ¢ä¸ºæ•°å­—ã€‚

### DEMO

```js
parseInt("1234", 5); // 194
// è§£è¯»
// è§£æå­—ç¬¦ "1234", æŒ‰5è¿›åˆ¶(5åŸºæ•°)è¿›è¡Œè½¬æ¢ï¼Œ è½¬æ¢å…¬å¼ä¸ºï¼š
// 1*5^3 + 2*5^2 + 3*5^1 + 4*5^0 = 125 + 50 + 15 + 4 = 194;

parseInt("1234", 100); // NaN
// è§£è¯»
// å› ä¸º radix åŸºæ•°èŒƒå›´ä¸º 2-36ï¼Œ è€Œä»£ç ä¸­çš„åŸºæ•°ä¸º100  åˆ™è¿”å›NaN
```

### radix ä¸åŒçš„æƒ…å†µï¼š undefined, 0 æˆ–è€…æœªå®šä¹‰çš„æƒ…å†µï¼›

1. å¦‚æœè¾“å…¥çš„å­—ç¬¦ä»¥ `0x,0X`(ä¸€ä¸ª 0ï¼Œåé¢ä¸ºå¤§å†™æˆ–è€…å°å†™çš„ x)å¼€å¤´ï¼Œ é‚£ä¹ˆ `radix` è¢«é»˜è®¤ä¸º 16ï¼Œå­—ç¬¦ä¸²çš„å…¶ä½™éƒ¨åˆ†è¢«å½“åš 16 è¿›åˆ¶(åŸºæ•°)å»è§£æï¼›
2. å¦‚æœè¾“å…¥çš„å­—ç¬¦ä»¥ `0, O `å¼€å¤´ï¼Œ `radix` è¢«å‡è®¾ä¸º 8 è¿›åˆ¶æˆ– 10 è¿›åˆ¶ï¼›ECMAScript 5 æ¾„æ¸…äº†åº”è¯¥ä½¿ç”¨ 10 (åè¿›åˆ¶)ï¼Œä½†ä¸æ˜¯æ‰€æœ‰çš„æµè§ˆå™¨éƒ½æ”¯æŒã€‚å› æ­¤ï¼Œåœ¨ä½¿ç”¨ `parseInt` æ—¶ï¼Œä¸€å®šè¦æŒ‡å®šä¸€ä¸ª radixã€‚
3. å¦‚æœè¾“å…¥çš„ string ä»¥ä»»ä½•å…¶ä»–å€¼å¼€å¤´ï¼Œ`radix` æ˜¯ 10 (åè¿›åˆ¶)ã€‚

```js
parseInt("0xF");
// è§£è¯»ï¼š
// ç¬¦åˆä¸Šé¢1æƒ…å†µï¼Œ ä»¥0x æˆ–è€… 0X å¼€å¤´ï¼Œ é»˜è®¤ä¸º16è¿›åˆ¶ï¼ˆåŸºæ•°ï¼‰
// parseInt("0xF") === parseInt("0xF", 16);

parseInt("021");
// è§£è¯»ï¼š
// ç¬¦åˆä¸Šé¢2æƒ…å†µï¼Œ ä»¥0 ï¼Œ é»˜è®¤ä¸º8è¿›åˆ¶æˆ–è€…10è¿›åˆ¶
// parseInt("021") === parseInt("021", 10);
```

## Array.map çš„è§£è¯»

### å‚æ•°

> `Array.map()`æœ‰ä¸‰ä¸ªå‚æ•°ï¼Œ å¦‚ä¸‹æºç ï¼š

```js
/**
 * Calls a defined callback function on each element of an array, and returns an array that contains the results.
 * @param callbackfn A function that accepts up to three arguments. The map method calls the callbackfn function one time for each element in the array.
 * @param thisArg An object to which the this keyword can refer in the callbackfn function. If thisArg is omitted, undefined is used as the this value.
 */
map<U>(callbackfn: (value: T, index: number, array: T[]) => U, thisArg?: any): U[];
```

- [x] value: å½“å‰å¾ªç¯çš„å€¼ï¼Œ å³ item
- [x] index: å½“å‰å¾ªç¯çš„ä¸‹æ ‡, å³ for index
- [x] array: å½“å‰çš„æ•°ç»„

> æ³¨è§£çš„å†…å®¹ï¼š
> å¯¹æ•°ç»„çš„æ¯ä¸ªå…ƒç´ è°ƒç”¨å®šä¹‰çš„å›è°ƒå‡½æ•°ï¼Œå¹¶è¿”å›åŒ…å«ç»“æœçš„æ•°ç»„ã€‚
> callbackfn æœ€å¤šæ¥å—ä¸‰ä¸ªå‚æ•°çš„å‡½æ•°ã€‚ map æ–¹æ³•ä¸ºæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ è°ƒç”¨ä¸€æ¬¡ callbackfn å‡½æ•°ã€‚
> thisArg åœ¨ callbackfn å‡½æ•°ä¸­ this å…³é”®å­—å¯ä»¥å¼•ç”¨çš„å¯¹è±¡ã€‚å¦‚æœçœç•¥ thisArgï¼Œåˆ™ä½¿ç”¨ undefined ä½œä¸º this å€¼ã€‚

### Demo

```js
["1", "2", "3", "4"].map((item, index, arr) => {
	console.log(item, index, arr);
});
/**
  1 0 [ '1', '2', '3', '4' ]
  2 1 [ '1', '2', '3', '4' ]
  3 2 [ '1', '2', '3', '4' ]
  4 3 [ '1', '2', '3', '4' ]
**/
```

## Array.map ç»“åˆ parseInt

### ç»å…¸æ¡ˆä¾‹

```js
["1", "2", "3", "4"].map(parseInt);
```

### è§£è¯»

- Array.map(): åœ¨å¾ªç¯æ—¶ï¼Œ ä¼šå¾ªç¯å››æ¬¡ï¼Œè€Œ parseInt åˆ™æœ‰ä¿©ä¸ªå‚æ•°;

```js
["1", "2", "3", "4"].map((item, index) => {
	parseInt(item, index);
}); // [1, NaN, NaN, NaN]

/**
parseInt(1, 0)
parseInt(2, 1)
parseInt(3, 2)
parseInt(4, 3)
**/
```

> å¯èƒ½è¯´æ˜æ˜¯ä¸æ­£ç¡®çš„ï¼› ä¸ªäººè®¤ä¸ºï¼š å‰é¢çš„å­—ç¬¦å¼€æ•°éœ€è¦å°äºåŸºæ•°;

- parseInt(1, 0) åˆ™æ˜¯æŒ‰ç…§ 10 è¿›åˆ¶è½¬æ¢
- parseInt(2, 1) åŸºæ•°åº”è¯¥æ˜¯ 2-36 èŒƒå›´çš„æ•°ï¼Œ åˆ™ä¸º NaN
- parseInt(3, 2) 2 è¿›åˆ¶åªæœ‰ 0 å’Œ 1ï¼Œ æ‰€ä»¥ 3 ä¸ºéæ³•å­—ç¬¦
- parseInt(4, 3) 3 åŸºæ•°åªå¯ä»¥æ˜¯å­—ç¬¦ 0, 1, 2 å¼€å¤´çš„å­—ç¬¦
